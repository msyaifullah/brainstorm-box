import { CityData } from "./flight-types";

// Extended cities data with more details
export const citiesData: CityData[] = [
  { name: "Jakarta", country: "Indonesia", code: "JKT", fullName: "Jakarta, Indonesia (JKT)" },
  { name: "Kuala Lumpur", country: "Malaysia", code: "KUL", fullName: "Kuala Lumpur, Malaysia (KUL)" },
  { name: "Jeddah", country: "Saudi Arabia", code: "JED", fullName: "Jeddah, Saudi Arabia (JED)" },
  { name: "Riyadh", country: "Saudi Arabia", code: "RUH", fullName: "Riyadh, Saudi Arabia (RUH)" },
  { name: "Bangkok", country: "Thailand", code: "BKK", fullName: "Bangkok, Thailand (BKK)" },
  { name: "Dubai", country: "UAE", code: "DXB", fullName: "Dubai, UAE (DXB)" },
  { name: "Singapore", country: "Singapore", code: "SIN", fullName: "Singapore, Singapore (SIN)" },
  { name: "Dammam", country: "Saudi Arabia", code: "DMM", fullName: "Dammam, Saudi Arabia (DMM)" },
  { name: "Tokyo", country: "Japan", code: "NRT", fullName: "Tokyo, Japan (NRT)" },
  { name: "Madinah", country: "Saudi Arabia", code: "MED", fullName: "Madinah, Saudi Arabia (MED)" },
  { name: "Phuket", country: "Thailand", code: "HKT", fullName: "Phuket, Thailand (HKT)" },
  { name: "Muscat", country: "Oman", code: "MCT", fullName: "Muscat, Oman (MCT)" },
  { name: "Cairo", country: "Egypt", code: "CAI", fullName: "Cairo, Egypt (CAI)" },
  { name: "Kuwait", country: "Kuwait", code: "KWI", fullName: "Kuwait, Kuwait (KWI)" },
  { name: "Istanbul", country: "Turkey", code: "IST", fullName: "Istanbul, Turkey (IST)" },
  { name: "Abu Dhabi", country: "UAE", code: "AUH", fullName: "Abu Dhabi, UAE (AUH)" },
  { name: "Bali", country: "Indonesia", code: "DPS", fullName: "Bali, Indonesia (DPS)" },
  { name: "Surabaya", country: "Indonesia", code: "SUB", fullName: "Surabaya, Indonesia (SUB)" },
  { name: "Medan", country: "Indonesia", code: "KNO", fullName: "Medan, Indonesia (KNO)" },
  { name: "Makassar", country: "Indonesia", code: "UPG", fullName: "Makassar, Indonesia (UPG)" },
  { name: "Manila", country: "Philippines", code: "MNL", fullName: "Manila, Philippines (MNL)" },
  { name: "Ho Chi Minh", country: "Vietnam", code: "SGN", fullName: "Ho Chi Minh, Vietnam (SGN)" },
  { name: "Hanoi", country: "Vietnam", code: "HAN", fullName: "Hanoi, Vietnam (HAN)" },
  { name: "Seoul", country: "South Korea", code: "ICN", fullName: "Seoul, South Korea (ICN)" },
  { name: "Hong Kong", country: "Hong Kong", code: "HKG", fullName: "Hong Kong, Hong Kong (HKG)" },
  { name: "Taipei", country: "Taiwan", code: "TPE", fullName: "Taipei, Taiwan (TPE)" },
  { name: "Shanghai", country: "China", code: "PVG", fullName: "Shanghai, China (PVG)" },
  { name: "Beijing", country: "China", code: "PEK", fullName: "Beijing, China (PEK)" },
  { name: "Mumbai", country: "India", code: "BOM", fullName: "Mumbai, India (BOM)" },
  { name: "Delhi", country: "India", code: "DEL", fullName: "Delhi, India (DEL)" },
  { name: "Dhaka", country: "Bangladesh", code: "DAC", fullName: "Dhaka, Bangladesh (DAC)" },
  { name: "Kathmandu", country: "Nepal", code: "KTM", fullName: "Kathmandu, Nepal (KTM)" },
  { name: "Colombo", country: "Sri Lanka", code: "CMB", fullName: "Colombo, Sri Lanka (CMB)" },
  { name: "Male", country: "Maldives", code: "MLE", fullName: "Male, Maldives (MLE)" },
  { name: "Yangon", country: "Myanmar", code: "RGN", fullName: "Yangon, Myanmar (RGN)" },
  { name: "Vientiane", country: "Laos", code: "VTE", fullName: "Vientiane, Laos (VTE)" },
  { name: "Phnom Penh", country: "Cambodia", code: "PNH", fullName: "Phnom Penh, Cambodia (PNH)" },
  { name: "Bandar Seri Begawan", country: "Brunei", code: "BWN", fullName: "Bandar Seri Begawan, Brunei (BWN)" },
  { name: "Dili", country: "Timor-Leste", code: "DIL", fullName: "Dili, Timor-Leste (DIL)" },
  { name: "Port Moresby", country: "Papua New Guinea", code: "POM", fullName: "Port Moresby, Papua New Guinea (POM)" },
  { name: "Noumea", country: "New Caledonia", code: "NOU", fullName: "Noumea, New Caledonia (NOU)" },
  { name: "Fiji", country: "Fiji", code: "NAN", fullName: "Fiji, Fiji (NAN)" },
  { name: "Auckland", country: "New Zealand", code: "AKL", fullName: "Auckland, New Zealand (AKL)" },
  { name: "Sydney", country: "Australia", code: "SYD", fullName: "Sydney, Australia (SYD)" },
  { name: "Melbourne", country: "Australia", code: "MEL", fullName: "Melbourne, Australia (MEL)" },
  { name: "Brisbane", country: "Australia", code: "BNE", fullName: "Brisbane, Australia (BNE)" },
  { name: "Perth", country: "Australia", code: "PER", fullName: "Perth, Australia (PER)" },
  { name: "Adelaide", country: "Australia", code: "ADL", fullName: "Adelaide, Australia (ADL)" },
  { name: "Darwin", country: "Australia", code: "DRW", fullName: "Darwin, Australia (DRW)" },
  { name: "Hobart", country: "Australia", code: "HBA", fullName: "Hobart, Australia (HBA)" },
  { name: "Cairns", country: "Australia", code: "CNS", fullName: "Cairns, Australia (CNS)" },
  { name: "Gold Coast", country: "Australia", code: "OOL", fullName: "Gold Coast, Australia (OOL)" },
  { name: "Townsville", country: "Australia", code: "TSV", fullName: "Townsville, Australia (TSV)" },
  { name: "Newcastle", country: "Australia", code: "NTL", fullName: "Newcastle, Australia (NTL)" },
  { name: "Canberra", country: "Australia", code: "CBR", fullName: "Canberra, Australia (CBR)" },
  { name: "Wellington", country: "New Zealand", code: "WLG", fullName: "Wellington, New Zealand (WLG)" },
  { name: "Christchurch", country: "New Zealand", code: "CHC", fullName: "Christchurch, New Zealand (CHC)" },
  { name: "Queenstown", country: "New Zealand", code: "ZQN", fullName: "Queenstown, New Zealand (ZQN)" },
  { name: "Dunedin", country: "New Zealand", code: "DUD", fullName: "Dunedin, New Zealand (DUD)" },
  { name: "Hamilton", country: "New Zealand", code: "HLZ", fullName: "Hamilton, New Zealand (HLZ)" },
  { name: "Tauranga", country: "New Zealand", code: "TRG", fullName: "Tauranga, New Zealand (TRG)" },
  { name: "Palmerston North", country: "New Zealand", code: "PMR", fullName: "Palmerston North, New Zealand (PMR)" },
  { name: "Napier", country: "New Zealand", code: "NPE", fullName: "Napier, New Zealand (NPE)" },
  { name: "Invercargill", country: "New Zealand", code: "IVC", fullName: "Invercargill, New Zealand (IVC)" },
  { name: "Rotorua", country: "New Zealand", code: "ROT", fullName: "Rotorua, New Zealand (ROT)" },
  { name: "Nelson", country: "New Zealand", code: "NSN", fullName: "Nelson, New Zealand (NSN)" },
  { name: "New Plymouth", country: "New Zealand", code: "NPL", fullName: "New Plymouth, New Zealand (NPL)" },
  { name: "Whangarei", country: "New Zealand", code: "WRE", fullName: "Whangarei, New Zealand (WRE)" },
  { name: "Gisborne", country: "New Zealand", code: "GIS", fullName: "Gisborne, New Zealand (GIS)" },
];

// Popular cities (static list for when input is empty)
export const popularCities = [
  "Jakarta, Indonesia (JKT)",    
  "Bangkok, Thailand (BKK)",
  "Singapore, Singapore (SIN)",
  "Dubai, UAE (DXB)",
  "Tokyo, Japan (NRT)",
  "Bali, Indonesia (DPS)",
  "Sydney, Australia (SYD)",
  "Seoul, South Korea (ICN)",
  "Hong Kong, Hong Kong (HKG)",
  "Manila, Philippines (MNL)",
  "Ho Chi Minh, Vietnam (SGN)",
  "Taipei, Taiwan (TPE)",
  "Shanghai, China (PVG)",
  "Mumbai, India (BOM)",
  "Delhi, India (DEL)",
  "Jeddah, Saudi Arabia (JED)",
  "Riyadh, Saudi Arabia (RUH)",
  "Cairo, Egypt (CAI)",
  "Istanbul, Turkey (IST)",
];

// Filter cities based on input
export const getFilteredCities = (input: string): CityData[] => {
  if (!input.trim()) {
    // When input is empty, show popular cities
    return popularCities.map(cityName => {
      const city = citiesData.find(c => c.fullName === cityName);
      return city || { 
        name: cityName.split(',')[0], 
        country: cityName.split(',')[1]?.trim().split(' ')[0] || '', 
        code: cityName.match(/\(([^)]+)\)/)?.[1] || '', 
        fullName: cityName 
      };
    });
  }
  
  const searchTerm = input.toLowerCase();
  const filteredCities = citiesData.filter(city => 
    city.name.toLowerCase().includes(searchTerm) ||
    city.country.toLowerCase().includes(searchTerm) ||
    city.code.toLowerCase().includes(searchTerm) ||
    city.fullName.toLowerCase().includes(searchTerm)
  );
  
  // Return filtered results (limit to 50)
  return filteredCities.slice(0, 50);
};

// Date utilities
export const getToday = (): string => {
  return new Date().toISOString().split("T")[0];
};

export const getTomorrow = (): string => {
  return new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString().split("T")[0];
}; 